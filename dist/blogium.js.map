{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///blogium.js","webpack:///webpack/bootstrap f418045fd094ab1e46c7","webpack:///./src/blogium.js","webpack:///./~/tiny-emitter/dist/tinyemitter.js","webpack:///./src/config.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","_tinyemitter","_tinyemitter2","_config","_config2","Blogium","_Emitter","options","_this","getPrototypeOf","settings","basicSettings","url","username","getPosts","handleListener","moreBtn","document","querySelector","addEventListener","morePosts","bind","_this2","fetch","then","response","status","emit","json","postList","defaultTemplate","renderPosts","items","_this3","scope","arguments","undefined","allLinks","Array","from","querySelectorAll","forEach","element","href","includes","host","posts","_this4","wrapper","cachedPosts","ul","createElement","postLimit","otherPosts","slice","classList","add","post","index","blogPostTemplate","innerHTML","setLinkTarget","appendChild","console","error","disabled","array","list","map","category","categories","join","_ref","pubDate","link","title","postDate","Date","toDateString","showCategories","buildCategories","require","f","e","t","n","r","s","o","u","a","Error","code","l","1","E","on","name","callback","ctx","push","fn","once","listener","off","apply","_","data","evtArr","len","evts","liveEvents","config","defaults","location","targetBlank","customTemplate","prop","startsWith"],"mappings":"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","file":"blogium.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Blogium\"] = factory();\n\telse\n\t\troot[\"Blogium\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Blogium\"] = factory();\n\telse\n\t\troot[\"Blogium\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _tinyemitter = __webpack_require__(2);\n\t\n\tvar _tinyemitter2 = _interopRequireDefault(_tinyemitter);\n\t\n\tvar _config = __webpack_require__(3);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Blogium = function (_Emitter) {\n\t  _inherits(Blogium, _Emitter);\n\t\n\t  function Blogium(options) {\n\t    _classCallCheck(this, Blogium);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Blogium.__proto__ || Object.getPrototypeOf(Blogium)).call(this));\n\t\n\t    _this.settings = _config2.default.basicSettings(options);\n\t    _this.url = _config2.default.url(_this.settings.username);\n\t    _this.getPosts();\n\t    _this.handleListener();\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Blogium, [{\n\t    key: 'handleListener',\n\t    value: function handleListener() {\n\t      var moreBtn = document.querySelector(this.settings.moreBtn) || null;\n\t      if (moreBtn) {\n\t        moreBtn.addEventListener('click', this.morePosts.bind(this), false);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'getPosts',\n\t    value: function getPosts() {\n\t      var _this2 = this;\n\t\n\t      fetch(this.url).then(function (response) {\n\t        if (response.status !== 200) {\n\t          _this2.emit('blogium.error', response);\n\t          return;\n\t        }\n\t\n\t        return response.json();\n\t      }).then(function (postList) {\n\t        _this2.emit('blogium.success', postList);\n\t\n\t        if (_this2.settings.defaultTemplate) _this2.renderPosts(postList.items);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'setLinkTarget',\n\t    value: function setLinkTarget() {\n\t      var _this3 = this;\n\t\n\t      var scope = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\t\n\t      var allLinks = Array.from(scope.querySelectorAll('a'));\n\t\n\t      allLinks.forEach(function (element) {\n\t        if (element.href.includes(_this3.settings.host)) {\n\t          element.target = '_self';\n\t        } else {\n\t          element.target = '_blank';\n\t        }\n\t      });\n\t    }\n\t  }, {\n\t    key: 'renderPosts',\n\t    value: function renderPosts(posts) {\n\t      var _this4 = this;\n\t\n\t      var wrapper = document.querySelector(this.settings.wrapper) || null;\n\t      var cachedPosts = '',\n\t          ul = document.createElement('ul');\n\t\n\t      if (posts.length > this.settings.postLimit - 1) {\n\t        this.otherPosts = posts.slice(this.postLimit - 1);\n\t        // this.settings.moreBtn.disabled = false;\n\t      } else {\n\t        this.otherPosts = undefined;\n\t      }\n\t\n\t      ul.classList.add('postList');\n\t\n\t      posts.forEach(function (post, index) {\n\t        if (index < _this4.settings.postLimit) {\n\t          cachedPosts += _this4.blogPostTemplate(post);\n\t        }\n\t      });\n\t\n\t      ul.innerHTML = cachedPosts;\n\t      this.setLinkTarget(ul);\n\t\n\t      if (!wrapper) {\n\t        console.error('we need a container');\n\t      } else {\n\t        wrapper.appendChild(ul);\n\t      }\n\t    }\n\t  }, {\n\t    key: 'morePosts',\n\t    value: function morePosts() {\n\t      if (!this.otherPosts) return;\n\t      this.moreBtn.disabled = true;\n\t\n\t      this.renderPosts(this.otherPosts);\n\t    }\n\t  }, {\n\t    key: 'buildCategories',\n\t    value: function buildCategories(array) {\n\t      var list = array.map(function (category) {\n\t        return '<li class=\"homePost-tagItem\">' + category + '</li>';\n\t      });\n\t\n\t      var categories = list.join('');\n\t\n\t      return '<ul class=\"blogiumPost-categories\">\\n        ' + categories + '\\n      </ul>';\n\t    }\n\t  }, {\n\t    key: 'blogPostTemplate',\n\t    value: function blogPostTemplate(_ref) {\n\t      var pubDate = _ref.pubDate,\n\t          link = _ref.link,\n\t          title = _ref.title,\n\t          categories = _ref.categories;\n\t\n\t      var postDate = new Date(pubDate).toDateString();\n\t\n\t      return '<li class=\"blogiumPost\">\\n        <a class=\"blogiumPost-link\" href=\"' + link + '\">\\n          <span class=\"blogiumPost-date\">' + postDate + '</span>\\n          <h3 class=\"blogiumPost-title\">' + title + '</h3>\\n        </a>\\n        ' + (this.settings.showCategories && this.buildCategories(categories)) + '\\n      </li>';\n\t    }\n\t  }]);\n\t\n\t  return Blogium;\n\t}(_tinyemitter2.default);\n\t\n\tmodule.exports = Blogium;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar require;var require;(function(f){if(true){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TinyEmitter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\tfunction E () {\n\t  // Keep this empty so it's easier to inherit from\n\t  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n\t}\n\t\n\tE.prototype = {\n\t  on: function (name, callback, ctx) {\n\t    var e = this.e || (this.e = {});\n\t\n\t    (e[name] || (e[name] = [])).push({\n\t      fn: callback,\n\t      ctx: ctx\n\t    });\n\t\n\t    return this;\n\t  },\n\t\n\t  once: function (name, callback, ctx) {\n\t    var self = this;\n\t    function listener () {\n\t      self.off(name, listener);\n\t      callback.apply(ctx, arguments);\n\t    };\n\t\n\t    listener._ = callback\n\t    return this.on(name, listener, ctx);\n\t  },\n\t\n\t  emit: function (name) {\n\t    var data = [].slice.call(arguments, 1);\n\t    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n\t    var i = 0;\n\t    var len = evtArr.length;\n\t\n\t    for (i; i < len; i++) {\n\t      evtArr[i].fn.apply(evtArr[i].ctx, data);\n\t    }\n\t\n\t    return this;\n\t  },\n\t\n\t  off: function (name, callback) {\n\t    var e = this.e || (this.e = {});\n\t    var evts = e[name];\n\t    var liveEvents = [];\n\t\n\t    if (evts && callback) {\n\t      for (var i = 0, len = evts.length; i < len; i++) {\n\t        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n\t          liveEvents.push(evts[i]);\n\t      }\n\t    }\n\t\n\t    // Remove event from queue to prevent memory leak\n\t    // Suggested by https://github.com/lazd\n\t    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\t\n\t    (liveEvents.length)\n\t      ? e[name] = liveEvents\n\t      : delete e[name];\n\t\n\t    return this;\n\t  }\n\t};\n\t\n\tmodule.exports = E;\n\t\n\t},{}]},{},[1])(1)\n\t});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar config = {\n\t\n\t  basicSettings: function basicSettings() {\n\t    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t\n\t    var defaults = {\n\t      host: document.location.host || '',\n\t      username: '@Medium',\n\t      moreBtn: '#moreBtn',\n\t      wrapper: '.mediumWrap',\n\t      targetBlank: true,\n\t      defaultTemplate: true,\n\t      postLimit: 5,\n\t      customTemplate: false,\n\t      showCategories: true\n\t    };\n\t\n\t    for (var prop in defaults) {\n\t      options[prop] = options[prop] || defaults[prop];\n\t    }\n\t\n\t    return options;\n\t  },\n\t\n\t  url: function url(username) {\n\t    if (!username.startsWith('@')) username = '@' + username;\n\t\n\t    return '//rss2json.com/api.json?rss_url=https%3A//medium.com/feed/' + username;\n\t  }\n\t};\n\t\n\texports.default = config;\n\n/***/ })\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// blogium.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f418045fd094ab1e46c7","import Emitter from '../node_modules/tiny-emitter/dist/tinyemitter.js';\nimport config from './config.js';\n\nclass Blogium extends Emitter {\n  constructor(options) {\n    super();\n    this.settings = config.basicSettings(options);\n    this.url = config.url(this.settings.username);\n    this.getPosts();\n    this.handleListener();\n  }\n\n  handleListener() {\n    const moreBtn = document.querySelector(this.settings.moreBtn) || null;\n    if (moreBtn) {\n      moreBtn.addEventListener('click', this.morePosts.bind(this), false);\n    }\n  }\n\n  getPosts() {\n    fetch(this.url)\n\n    .then(response => {\n      if (response.status !== 200) {\n        this.emit('blogium.error', response);\n        return;\n      }\n\n      return response.json();\n    })\n\n    .then(postList => {\n      this.emit('blogium.success', postList);\n\n      if (this.settings.defaultTemplate) this.renderPosts(postList.items);\n\n    });\n  }\n\n  setLinkTarget(scope = document) {\n    const allLinks = Array.from(scope.querySelectorAll('a'));\n\n    allLinks.forEach((element) => {\n      if (element.href.includes(this.settings.host)) {\n        element.target = '_self';\n      } else {\n        element.target = '_blank';\n      }\n    });\n  }\n\n  renderPosts(posts) {\n    const wrapper = document.querySelector(this.settings.wrapper) || null;\n    let cachedPosts = '',\n        ul = document.createElement('ul');\n\n    if (posts.length > this.settings.postLimit - 1) {\n      this.otherPosts = posts.slice(this.postLimit-1);\n      // this.settings.moreBtn.disabled = false;\n    } else {\n      this.otherPosts = undefined;\n    }\n\n    ul.classList.add('postList');\n\n    posts.forEach((post, index) => {\n      if (index < this.settings.postLimit) {\n        cachedPosts += this.blogPostTemplate(post);\n      }\n    });\n\n    ul.innerHTML = cachedPosts;\n    this.setLinkTarget(ul);\n\n    if (!wrapper) {\n      console.error('we need a container');\n\n    } else {\n      wrapper.appendChild(ul);\n    }\n  }\n\n  morePosts() {\n    if(!this.otherPosts) return;\n    this.moreBtn.disabled = true;\n\n    this.renderPosts(this.otherPosts);\n  }\n\n  buildCategories(array) {\n    const list = array.map( category  => {\n      return `<li class=\"homePost-tagItem\">${category}</li>`\n    })\n\n    const categories = list.join('')\n\n    return (`<ul class=\"blogiumPost-categories\">\n        ${categories}\n      </ul>`)\n  }\n\n  blogPostTemplate({ pubDate, link, title, categories }) {\n    let postDate = new Date(pubDate).toDateString();\n\n    return `<li class=\"blogiumPost\">\n        <a class=\"blogiumPost-link\" href=\"${link}\">\n          <span class=\"blogiumPost-date\">${postDate}</span>\n          <h3 class=\"blogiumPost-title\">${title}</h3>\n        </a>\n        ${this.settings.showCategories && this.buildCategories(categories)}\n      </li>`;\n  };\n}\n\nmodule.exports = Blogium;\n\n\n\n// WEBPACK FOOTER //\n// ./src/blogium.js","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.TinyEmitter = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n\n},{}]},{},[1])(1)\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/tiny-emitter/dist/tinyemitter.js\n// module id = 2\n// module chunks = 0","const config = {\n\n  basicSettings: (options = {}) => {\n\n    const defaults = {\n      host: document.location.host || '',\n      username: '@Medium',\n      moreBtn: '#moreBtn',\n      wrapper: '.mediumWrap',\n      targetBlank: true,\n      defaultTemplate: true,\n      postLimit: 5,\n      customTemplate: false,\n      showCategories: true\n    }\n\n    for (const prop in defaults) {\n      options[prop] = options[prop] || defaults[prop];\n    }\n\n    return options;\n  },\n\n  url: username => {\n    if (!username.startsWith('@')) username = `@${username}`;\n\n  \treturn `//rss2json.com/api.json?rss_url=https%3A//medium.com/feed/${username}`;\n  }\n};\n\nexport default config;\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js"],"sourceRoot":""}