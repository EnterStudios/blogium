{"version":3,"sources":["webpack:///webpack/bootstrap 56bc0f4bbb92cd760b13","webpack:///./src/blogium.js","webpack:///./src/defaultOptions.js"],"names":["defaults","Blogium","options","config","getPosts","moreBtn","addEventListener","morePosts","host","document","location","querySelector","Promise","resolve","reject","posts","XMLHttpRequest","url","open","onreadystatechange","readyState","status","JSON","parse","response","send","then","postList","renderPosts","items","catch","console","error","allLinks","Array","from","querySelectorAll","forEach","element","href","includes","target","cachedPosts","ul","createElement","mediumWrap","length","otherPosts","slice","disabled","undefined","classList","add","post","index","blogPostTemplate","innerHTML","appendChild","setLinkTarget","postDate","Date","pubDate","toDateString","link","title","description","foo"],"mappings":"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","file":"blogium.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 56bc0f4bbb92cd760b13\n **/","import * as defaults from './defaultOptions.js';\n\nclass Blogium {\n  constructor(options) {\n\n    this.config(options = defaults);\n    this.getPosts();\n\n    this.moreBtn.addEventListener('click', this.morePosts, false);\n  }\n\n  config(options, defaults) {\n    this.host = document.location.host;\n    this.moreBtn = document.querySelector('#moreBtn');\n\n    // this.template = options.template || defaults.template;\n    // this.url = urlBuilder(options.username);\n  }\n\n  getPosts() {\n    let getPosts = new Promise((resolve, reject) => {\n      let posts = new XMLHttpRequest();\n      const url = \"http://rss2json.com/api.json?rss_url=https://medium.com/feed/@atilafassina\"\n      // const url = this.url;\n\n      posts.open(\"GET\", url, true);\n\n      posts.onreadystatechange = function () {\n        if (posts.readyState === 4 && posts.status === 200) {\n          resolve(JSON.parse(posts.response));\n        } else if(posts.status !== 200) {\n          reject(posts.response)\n        }\n      };\n\n      posts.send();\n    })\n    .then((postList)=> { this.renderPosts(postList.items)})\n    .catch((response) => {\n      // fire error event with response parameter\n      console.error(response);\n    });\n  }\n\n  setLinkTarget() {\n    const allLinks = Array.from(document.querySelectorAll('a'));\n\n    allLinks.forEach((element) => {\n      element.href.includes(this.host) ? element.target = '_self' : element.target = '_blank';\n    });\n\n  }\n\n  renderPosts(posts) {\n    let cachedPosts = '',\n        ul = document.createElement('ul'),\n        mediumWrap = document.querySelector('.mediumWrap');\n\n    if (posts.length > 5) {\n      this.otherPosts = posts.slice(4);\n      this.moreBtn.disabled = false;\n    } else {\n      this.otherPosts = undefined;\n    }\n\n    ul.classList.add('postList');\n\n    posts.forEach((post, index) => {\n      if (index < 4) {\n        cachedPosts += this.blogPostTemplate(post);\n      }\n\n    });\n\n    ul.innerHTML = cachedPosts;\n    mediumWrap.appendChild(ul);\n\n    this.setLinkTarget();\n  }\n\n  morePosts() {\n    if(!otherPosts) return;\n    moreBtn.disabled = true;\n\n    this.renderPosts(otherPosts);\n  }\n\n  blogPostTemplate(post) {\n    let postDate = new Date(post.pubDate).toDateString();\n\n    return `<li class=\"blogiumPost\">\n        <a class=\"blogiumPost-link\" href=\"${post.link}\">\n          <span class=\"blogiumPost-date\">${postDate}</span>\n          <h3 class=\"blogiumPost-title\">${post.title}</h3>\n        </a>\n        <section class=\"blogiumPost-description\">\n          ${post.description}\n        </section>\n      </li>`;\n  };\n}\n\n// for the demo\nlet foo = new Blogium()\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/blogium.js\n **/"," // configuration\n  // template for list\n  // url for medium service\n  // medium user\n  // class destination of output\n  // post link target\n  // post link class\n  // infinite scroll\n\n // const template = `<li class=\"blogiumPost\">\n //    <a class=\"blogiumPost-link\" href=\"${post.link}\">\n //      <span class=\"blogiumPost-date\">${postDate}</span>\n //      <h3 class=\"blogiumPost-title\">${post.title}</h3>\n //    </a>\n //    <section class=\"blogiumPost-description\">\n //      ${post.description}\n //    </section>\n //  </li>`;\n\nconst url = \"http://rss2json.com/api.json?rss_url=https://medium.com/feed/@atilafassina\";\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/defaultOptions.js\n **/"],"sourceRoot":""}